#include <YSI_Coding\y_hooks>

#include <enter-exit-api>

static enum E_STORE_DATA
{
    E_STORE_MAPICON,
    E_STORE_NAME[24],
    Float:E_STORE_ENT[4],
    Float:E_STORE_EXT[4],
    Float:E_STORE_ACTOR[4],
    E_ACTOR_SKINID,
    E_ACTOR_INTERIORID,
}

static const storeData[][E_STORE_DATA] =
{

    /*
        00 -> Map Icon
        01 -> Entrance X
        02 -> Entrance Y
        03 -> Entrance Z
        04 -> Entrance Angle
        05 -> Exit X
        06 -> Exit Y
        07 -> Exit Z
        08 -> Exit Angle

        14 -> InteriorID
    */

    // San Fierro
    {7,  "Barber Shop",         {-2570.9528, 246.1847,  10.1507, 214.5706},   {418.724334, -83.729606, 1001.804687, 2.731869},        {418.1863, -76.2570, 1001.8047, 180.9736},      176, 3}, // SF Barbershop near SF Ammunation
    {6,  "Ammunation",          {-2625.9682, 208.7544,  4.6132,  356.1141},   {315.741088, -143.113723, 999.601562, 357.152282},      {316.1078, -132.3989, 999.6016, 89.9578},       179, 7}, //SF Ammunation
    {45, "Victim",              {-1695.4829, 951.2065,  24.8906, 314.2035},   {226.802993, -8.077754, 1002.210937, 92.674850},        {204.8530, -9.2142, 1001.2109, 270.1043},       211, 5}, //SF Victim
    {17, "Tuff Nut Donuts",     {-2766.7861, 788.7000,  52.7812, 271.5830},   {377.304656, -192.390274, 1000.632812, 2.908989},       {380.7103, -189.1101, 1000.6328, 180.6518},     295, 17}, //Tuff Nut Donuts
    {54, "Gym",                 {-2269.8239, -155.9883, 35.3203, 271.6945},   {774.058593, -49.838584, 1000.585937, 357.403778},      {754.3979, -40.1885, 1000.5922, 276.7313},      204, 6}, // SF Gym
    {45, "Sub Urban",           {-2490.8439, -28.9526,  25.6171, 92.9637},    {203.738296, -50.123699, 1001.804687, 2.722898},        {203.2479, -41.6703, 1001.8047, 179.2123},      217, 1}, // SF Sub Urban
    {39, "Hemlock Tattoo",      {-2491.6486, -38.8542,  25.7656, 87.9504},    {-204.356704, -43.902355, 1002.273437, 357.709625},     {-201.9782, -42.1274, 1002.2734, 117.6855},     176, 3}, //SF Hemlock Tattoo
    {10, "Burger Shot",         {-1911.9954, 828.4466,  35.1786, 320.1049},   {363.363952, -74.890876, 1001.507812, 307.571472},      {376.4918, -65.8485, 1001.5078, 181.3203},      205, 10}, //SF Burger Shot -> Downton
    {45, "ZIP",                 {-1882.9561, 865.7272,  35.1718, 138.4961},   {161.441177, -96.324462, 1001.804687, 3.448270},        {159.7083, -81.1919, 1001.8120, 180.9010},      217, 18}, //SF ZIP
    {21, "Jizzy Club",          {-2624.6000, 1412.2931, 7.0937, 198.4908},    {-2636.747558, 1402.708984, 906.460937, 4.849049},      {-2655.5066, 1411.1595, 906.2734, 265.9626},    296, 3}, //SF Jizzy Club
    {45, "Binco",               {-2374.3720, 910.1135,  45.4453, 92.3532},    {207.692260, -110.613677, 1005.132812, 354.134033},     {206.3147, -98.7046, 1005.2578, 181.8224},      211, 15}, //SF Binco
    {49, "King's Bar",          {-2155.6333, 420.7106,  35.1718, 269.6760},   {459.565338, -88.507835, 999.554687, 85.747474},        {451.3924, -82.2319, 999.5547, 181.2106},       217, 4}, //SF King's bar
    {47, "Zero RC's",           {-2242.2622, 128.6498,  35.3203, 92.1455},    {-2240.115478, 137.217895, 1035.414062, 261.010467},    {-2238.0598, 128.5868, 1035.4141, 358.2259},    217, 6}, //SF Zero RC's Shop
    {14, "Cluckin' Bell",       {-1816.5396, 617.7810,  35.1718, 176.5435},   {364.963867, -11.351931, 1001.851562, 353.746887},      {370.8739, -4.4916, 1001.8589, 182.5842},       167, 9}, //SF Cluckin' Bell -> Downton
    {55, "Driving School",      {-2026.4489, -101.2564, 35.2000, 359.7915},   {-2027.019653, -104.270217, 1035.171875, 178.682830},   {-2035.0939, -117.5509, 1035.1719, 271.6392},   259, 3}, //SF Driving School
    {49, "Bar",                 {-2162.5092, 129.0751,  35.3203, 252.3402},   {501.804626, -68.321372, 998.757812, 174.319519},       {499.7835, -77.5629, 998.7651, 2.6346},         217, 11}, //SF Doherty bar
    {17, "24/7",                {-1675.3948, 431.4020,  7.1796, 46.9762},     {-27.519210, -57.711254, 1003.546875, 2.013339},        {-22.5939, -57.3682, 1003.5469, 3.6525},        217, 6}, //SF Xoo Mart -> Easter Basin
    {10, "Burger Shot",         {-2336.1752, -166.7877, 35.5546, 269.5591},   {363.363952, -74.890876, 1001.507812, 307.571472},      {376.4918, -65.8485, 1001.5078, 181.3203},      205, 10}, //SF Burger Shot (Bugged Interior)
    {59, "Gaydar Station",      {-2551.7683, 193.5327,  6.1759, 113.4440},    {493.140014, -24.260000, 1000.679687, 356.990020},      {501.8498, -18.5173, 1000.6719, 89.2153},       192, 17}, //SF Gaydar Station
    {29, "Well Stacked Pizza",  {-1808.6180, 945.7855,  24.8906, 221.9770},   {372.2493, -133.5241, 1001.4922, 357.3791},             {372.7618, -117.2513, 1001.4922, 177.0217},     155, 5}, //SF Well Stacked Pizza, Financial
    {22, "San Fierro Hospital", {-2655.0671, 639.7123, 14.4545, 179.3361},    {-204.5013, -1736.1185, 675.7687, 183.8392},            {-199.8731, -1742.7927, 675.7687, 90.3797},     150, 3}, //SF San Fierro Hospital, Santa Flora
    {12, "San Fierro Church",   {-1989.3727, 1117.8500, 54.4688, 272.2466},   {1964.1360, -349.7372, 1092.9454, 178.5023},            {1963.9924,-371.6996,1093.7289,358.7179},       68,  1},
    // Bone County
    {6, "Ammunation",           {-316.1435, 829.8477, 14.2422, 271.2526},     {315.741088, -143.113723, 999.601562, 357.152282},      {316.1078, -132.3989, 999.6016, 89.9578},       179, 7}, //(Location:  Fort Carson near Hospital)
    {6, "Ammunation",           {776.9724, 1871.2805, 4.9058, 267.9948},      {315.741088, -143.113723, 999.601562, 357.152282},      {316.1078, -132.3989, 999.6016, 89.9578},       179, 7}, //(Location: Fort Carson near Gas Station)
    {58, "24/7",                {-180.8956, 1034.7870, 19.7422, 91.6986},     {-27.519210, -57.711254, 1003.546875, 2.013339},        {-22.5939, -57.3682, 1003.5469, 3.6525},        217, 6}, //(Location:  Fort Carson Town)
    {58, "24/7",                {663.1413, 1716.3678, 7.1875, 41.4413},       {-27.519210, -57.711254, 1003.546875, 2.013339},        {-22.5939, -57.3682, 1003.5469, 3.6525},        217, 6}, //(Location: Fort Carson Gas Station)
    {14, "Cluckin' Bell",       {172.9945, 1177.0912, 14.7578,146.1828},      {364.963867, -11.351931, 1001.851562, 353.746887},      {370.8739, -4.4916, 1001.8589, 182.5842},       167, 9}, //(Location: Bone County near Quary)
    {49, "Bar",                 {-179.8368, 1087.7172, 19.7422, 46.9801},     {501.804626, -68.321372, 998.757812, 174.319519},       {499.7835, -77.5629, 998.7651, 2.6346},         217, 11}, //(Location:  Fort Carson Town)
    {49, "Bar",                 {-89.3981, 1378.3489, 10.4698,282.0550},      {501.804626, -68.321372, 998.757812, 174.319519},       {499.7835, -77.5629, 998.7651, 2.6346},         217, 11}, //(Location: Lil Probe Inn)
    {34, "Powertool Paradise",  {-180.5158, 1163.4165, 19.7422,90.4598},      {-2240.115478, 137.217895, 1035.414062, 261.010467},    {-2238.0598, 128.5868, 1035.4141, 358.2259},    217, 6}, //(Location: Fort Carson Town)
    {17, "King Rings",          {-144.0701, 1224.9529, 19.8992, 182.7343},    {377.304656, -192.390274, 1000.632812, 2.908989},       {380.7103, -189.1101, 1000.6328, 180.6518},     295, 17}  //(Location: Fort Carson Town)
};

hook OnGameModeInit() {

    // Disable default SA enter and exits
    DisableInteriorEnterExits();

    // Store Entrance / Exits
    new
        entid = 0;

	for(new i = 0; i != sizeof(storeData); ++i)
    {
		entid = CreateEntrance(
			storeData[i][E_STORE_ENT][0], storeData[i][E_STORE_ENT][1], storeData[i][E_STORE_ENT][2], storeData[i][E_STORE_ENT][3],
			storeData[i][E_STORE_EXT][0], storeData[i][E_STORE_EXT][1], storeData[i][E_STORE_EXT][2], storeData[i][E_STORE_EXT][3], i, storeData[i][E_ACTOR_INTERIORID]);

        CreateMapIconOnEntrance(entid, storeData[i][E_STORE_MAPICON]);
        SetEntranceName(entid, storeData[i][E_STORE_NAME]);

        CreateActorRobbery(sprintf("%s\n[AIM TO ROB]", storeData[i][E_STORE_NAME]), storeData[i][E_ACTOR_SKINID], storeData[i][E_STORE_ACTOR][0],  storeData[i][E_STORE_ACTOR][1], storeData[i][E_STORE_ACTOR][2]+1.2, storeData[i][E_STORE_ACTOR][3], i);
    }


    new
        sf_drugHouseEnt,
        sf_bankEnt,
        sf_policeStation;

    sf_drugHouseEnt = CreateEntrance(
        -1896.6683, 487.1766, 35.1719, -93.5577,
        1456.7220, -988.0564, 996.1050, 88.5385, 1, 1
    );
    CreateMapIconOnEntrance(sf_drugHouseEnt, 52);

    sf_bankEnt = CreateEntrance(
        -2099.6436, 897.5743, 76.7109, 0.0358,
        742.9769, 207.1607, 11558.7939, 88.1256, 1, 1
    );
    CreateMapIconOnEntrance(sf_bankEnt, 24);

    sf_policeStation = CreateEntrance(
        -1605.3304, 711.6586, 13.8672, 90.0,
        246.3872, 107.3055, 1003.2188, 90.0, 10, 10
    );
    CreateMapIconOnEntrance(sf_policeStation, 30);
    return 1;
}